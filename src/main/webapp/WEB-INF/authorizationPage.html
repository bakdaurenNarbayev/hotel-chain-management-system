<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Authorization</title>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script>
	function authorization() {
		$.post('http://localhost:8080/HotelChainManagementSystem/services/authorization', {username: $("#username").val(), password: $("#password").val()}, function(r) {
			if(r == null) 
				$("#warning").html("Incorrect login and/or password. Please try again!");
			else {
				window.location.href = r;
			}
		})
	}
	
	function cancel() {
		window.location='http://localhost:8080/HotelChainManagementSystem';
	}

	$(document).ready(function() {
		$('#log-in-button').on("click", function() {
			authorization();
		});
		
		$('#cancel').on("click", function() {
			cancel();
		});

		onkeypress = function (event) {  
			if (event.keyCode == 13) {
				authorization();
			}
		};
	});
</script>

<link rel="stylesheet" href="../css/authorizationPage.css">

</head>

<body>

<h2>Login Form</h2>
<form>
	<div class="container">

		<label for="username"><b>Username</b></label>
		<input type="text" placeholder="Enter Username" id="username" name="username" required>
		
		<label for="password"><b>Password</b></label>
	    <input type="password" placeholder="Enter Password" id="password" name="password" required>

		<h4 id="warning" style="color:red"></h4><br>
	
		<button id="log-in-button" type="button">Log-in</button>
	</div>
	
	<div class="container" style="background-color:#f1f1f1">
    <button type="button" class="cancelbtn" id="cancel">Cancel</button>
  </div>
</form>

</body>
</html>
